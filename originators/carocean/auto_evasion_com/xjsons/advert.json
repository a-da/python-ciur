{
    "name": "advert_auto_evasion_com",
    "test_url" : "http://occasion.auto-evasion.com/occasion-auto/annonce-46739729.html",
    "version": 0,
    "versions": [{
        "version" : 0,
        "timestamp" : 1345463062,
        "config" : {
            "xpath" : {
                "root" : "/html:html/html:body",
                "namespaces" : {
                    "html": "http://www.w3.org/1999/xhtml"
                }
            },
            "anomaly" : {
                "root" : "/html:html/html:body",
                "namespaces" : {
                }
            }
        },
        "anomaly" : {},
        "light_handlers" : {
            "^html:" : {},
            "^replace:postal_code" : [{
                    "from_re": "(?s)^.*\\(",
                    "to": ""
                },
                {
                    "from_re": "\\).*$",
                    "to": ""
                }
            ],
            "^replace:city" : [{
                "from_re": "\\s+\\(.*$",
                "to": ""
            }],
            "^replace:department" : [{
                    "from_re": " \\(\\d+\\).*$",
                    "to": ""
                }
            ],
            "^hash_map:regions" : {
                "map" : {
                    "67 68" : "Alsace",
                    "24 33 40 47 64" : "Aquitaine",
                    "03 15 43 63" : "Auvergne",
                    "14 50 61" : "Basse-Normandie",
                    "21 58 71 89" : "Bourgogne",
                    "22 29 35 56" : "Bretagne",
                    "18 28 36 37 41 45" : "Centre",
                    "08 10 51 52" : "Champagne-Ardenne",
                    "2A 2B 20" : "Corse",
                    "25 39 70 90" : "Franche-Comté",
                    "971" : "Guadeloupe",
                    "973" : "Guyane",
                    "27 76" : "Haute-Normandie",
                    "75 77 78 91 92 93 94 95" : "Île-de-France",
                    "974" : "La Réunion",
                    "11 30 34 48" : "Languedoc-Roussillon",
                    "19 23 87" : "Limousin",
                    "54 55 57 88" : "Lorraine",
                    "972" : "Martinique",
                    "976" : "Mayotte",
                    "09 12 31 32 46 65 81 82" : "Midi-Pyrénées",
                    "59 62" : "Nord-Pas-de-Calais",
                    "44 49 53 72 85" : "Pays de la Loire",
                    "02 60 802" : "Picardie",
                    "16 17 79 86" : "Poitou-Charentes",
                    "04 05 06 13 83 84" : "Provence-Alpes-Côte d'Azur",
                    "01 07 26 38 42 69 73 74" : "Rhône-Alpes"
                },
                "default" : "unknown",
                "separator" : " ",
                "operator" : "startswith"
            },
            "^hash_map:department" : {
                "map" : {
                    "01": "Ain",
                    "02": "Aisne",
                    "03": "Allier",
                    "04": "Alpes-de-Haute-Provence",
                    "05": "Hautes-Alpes",
                    "06": "Alpes-Maritimes",
                    "07": "Ardèche",
                    "08": "Ardennes",
                    "09": "Ariège",
                    "10": "Aube",
                    "11": "Aude",
                    "12": "Aveyron",
                    "13": "Bouches-du-Rhône",
                    "14": "Calvados",
                    "15": "Cantal",
                    "16": "Charente",
                    "17": "Charente-Maritime",
                    "18": "Cher",
                    "19": "Corrèze",
                    "20": "Corse",
                    "2A": "Corse-du-Sud",
                    "2B": "Haute-Corse",
                    "21": "Côte-d'Or",
                    "22": "Côtes-d'Armor",
                    "23": "Creuse",
                    "24": "Dordogne",
                    "25": "Doubs",
                    "26": "Drôme",
                    "27": "Eure",
                    "28": "Eure-et-Loir",
                    "29": "Finistère",
                    "30": "Gard",
                    "31": "Haute-Garonne",
                    "32": "Gers",
                    "33": "Gironde",
                    "34": "Hérault",
                    "35": "Ille-et-Vilaine",
                    "36": "Indre",
                    "37": "Indre-et-Loire",
                    "38": "Isère",
                    "39": "Jura",
                    "40": "Landes",
                    "41": "Loir-et-Cher",
                    "42": "Loire",
                    "43": "Haute-Loire",
                    "44": "Loire-Atlantique",
                    "45": "Loiret",
                    "46": "Lot",
                    "47": "Lot-et-Garonne",
                    "48": "Lozère",
                    "49": "Maine-et-Loire",
                    "50": "Manche",
                    "51": "Marne",
                    "52": "Haute-Marne",
                    "53": "Mayenne",
                    "54": "Meurthe-et-Moselle",
                    "56": "Morbihan",
                    "55": "Meuse",
                    "57": "Moselle",
                    "58": "Nièvre",
                    "59": "Nord",
                    "60": "Oise",
                    "61": "Orne",
                    "62": "Pas-de-Calais",
                    "63": "Puy-de-Dôme",
                    "64": "Pyrénées-Atlantiques",
                    "65": "Hautes-Pyrénées",
                    "66": "Pyrénées-Orientales",
                    "67": "Bas-Rhin",
                    "68": "Haut-Rhin",
                    "69": "Rhône",
                    "70": "Haute-Saône",
                    "71": "Saône-et-Loire",
                    "72": "Sarthe",
                    "73": "Savoie",
                    "74": "Haute-Savoie",
                    "75": "Paris",
                    "76": "Seine-Maritime",
                    "77": "Seine-et-Marne",
                    "78": "Yvelines",
                    "79": "Deux-Sèvres",
                    "80": "Somme",
                    "81": "Tarn",
                    "82": "Tarn-et-Garonne",
                    "83": "Var",
                    "84": "Vaucluse",
                    "85": "Vendée",
                    "86": "Vienne",
                    "87": "Haute-Vienne",
                    "88": "Vosges",
                    "89": "Yonne",
                    "90": "Territoire de Belfort",
                    "91": "Essonne",
                    "92": "Hauts-de-Seine",
                    "93": "Seine-Saint-Denis",
                    "94": "Val-de-Marne",
                    "95": "Val-d'Oise",
                    "971": "Guadeloupe",
                    "972": "Martinique",
                    "973": "Guyane",
                    "974": "La Réunion",
                    "976": "Mayotte"
                },
                "default" : "unknown",
                "separator" : " ",
                "operator" : "startswith"
            }
        },
        "rules" : {
            "localisation" : ["mandatory",  ".//html:div[@class='critere4 localisation']", {
                "postal_code": ["text.|^replace:postal_code|mandatory",  "."],
                "department": ["text.|^replace:postal_code|^hash_map:department|mandatory",  "."],
                "region" : ["text.|^replace:postal_code|^hash_map:regions|mandatory",  "."],
                "city" : ["text.|^replace:city|mandatory",  "."]
            }]
        },
        "renames" : {},
        "blocks" : { }
    }]
}