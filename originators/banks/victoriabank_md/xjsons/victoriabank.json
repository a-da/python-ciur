{
    "name": "victoriabank",
    "test_url" : "http://www.victoriabank.md/en/start/",
    "version": 2,
    "versions": [{
        "version" : 1,
        "timestamp" : 1332498235,
        "config" : {
            "xpath" : {
                "root" : "//html:html/html:body//html:a[text()='Currency convertor']/../../../../../../..",
                "namespaces" : {
                    "html": "http://www.w3.org/1999/xhtml"
                }
            },
            "anomaly" : {
                "root" : "//html:html/html:body",
                "namespaces" : { }
            }
        },
        "anomaly" : {},
        "light_handlers" : {
            "^html:" : {}
        },
        "rules" : {
            "date" : ["text.|mandatory", ".//html:span[@class='valute_date']"],
            "items" : [ "mandatory", ".//html:span[text()='Buy rate']/../../../..", {
                "usd" : ["mandatory", ".//html:b[text()='USD']/../../..", "=>buy_sell"],
                "eur" : ["mandatory", ".//html:b[text()='EUR']/../../..", "=>buy_sell"],
                "rub" : ["mandatory", ".//html:b[text()='RUB']/../../..", "=>buy_sell"],
                "ron" : ["mandatory", ".//html:b[text()='RON']/../../..", "=>buy_sell"],
                "uah" : ["mandatory", ".//html:b[text()='UAH']/../../..", "=>buy_sell"],
                "gbp" : ["mandatory", ".//html:b[text()='GBP']/../../..", "=>buy_sell"],
                "chf" : ["mandatory", ".//html:b[text()='CHF']/../../..", "=>buy_sell"]
            }]
        },
        "reformat" : [],
        "blocks" : {
            "buy_sell" : {
                "buy"  : ["float.|mandatory", "./html:td[2]"],
                "sell" : ["float.|mandatory", "./html:td[6]"]
            }
        }
    }, {
        "version" : 2,
        "timestamp" : 1350983973,
        "config" : {
            "xpath" : {
                "root" : "//html:html/html:body//html:a[text()='Currency convertor']/../../../../../../..",
                "namespaces" : {
                    "html": "http://www.w3.org/1999/xhtml"
                }
            },
            "anomaly" : {
                "root" : "//html:html/html:body",
                "namespaces" : { }
            }
        },
        "anomaly" : {},
        "light_handlers" : {
            "^html:" : {},
            "^date:" : ["%d.%m.%Y"]
        },
        "rules" : {
            "date" : ["text.|^date:|mandatory", ".//html:span[@class='valute_date']"],
            "items" : [ "mandatory", ".//html:span[text()='Buy rate']/../../../..", {
                "*" : ["mandatory", {
                    "for" : ["USD", "EUR", "RUB", "RON", "UAH", "GBP", "CHF"],
                    "in" : ".//html:b[text()='%s']/../../.."
                }, "=>buy_sell"]
            }]
        },
        "reformat" : [],
        "blocks" : {
            "buy_sell" : {
                "buy"  : ["float.|mandatory", "./html:td[2]"],
                "sell" : ["float.|mandatory", "./html:td[6]"]
            }
        }
    }]
}

