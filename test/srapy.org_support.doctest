>>> from ciur2 import Rule, page_html, pretty_json
>>> import requests

>>> requests = requests.Session()
>>> response = requests.get("http://scrapy.org/companies/")

>>> rule = Rule("root", "//div[@class='companies-container']", "+1",
...             Rule("company_list", ".//div[@class='company-box']", "+",
...                  Rule("name", ".//span[@class='highlight']", ["str", "+"]),
...                  Rule("company_url", "./a/@href", ["str", "+1"]),
...                  Rule("blog_url", "./p/a/@href", ["str", "*"]),
...                  Rule("logo", "./a/img/@src", ["str", "+"])
...                 )
...            )
>>> data = page_html(response.content, rule)
>>> print pretty_json(data)  # doctest: +NORMALIZE_WHITESPACE
    {
        "root": {
            "company_list": [
                {
                    "name": "Scrapinghub:",
                    "company_url": "http://scrapinghub.com/",
                    "blog_url": "http://scrapinghub.com/about",
                    "logo": "../img/shub-logo.png"
                },
                {
                    "name": "Parsely:",
                    "company_url": "http://parsely.com/",
                    "blog_url": "https://speakerdeck.com/amontalenti/web-crawling-and-metadata-extraction-in-python",
                    "logo": "../img/01-parsely-logo.png"
                },
                {
                    "name": "DirectEmployers Foundation:",
                    "company_url": "http://directemployersfoundation.org/",
                    "blog_url": "http://www.my.jobs/",
                    "logo": "../img/02-direct-employers-logo.png"
                },
                {
                    "name": "Weotta:",
                    "company_url": "http://www.weotta.com/",
                    "blog_url": "http://twitter.com/japerk/status/79304855486865408",
                    "logo": "../img/03-weotta-logo.png"
                },
                {
                    "name": "BiteHunter:",
                    "company_url": "http://www.bitehunter.com/",
                    "logo": "../img/04-bite-hunter-logo.png"
                },
                {
                    "name": "InnerBalloons:",
                    "company_url": "http://www.innerballoons.com/",
                    "logo": "../img/05-inner-balloons-logo.png"
                },
                {
                    "name": "Flax:",
                    "company_url": "http://www.flax.co.uk/",
                    "blog_url": "http://www.flax.co.uk/blog/2013/02/22/cambridge-search-meetup-a-night-of-crawling-and-scraping/",
                    "logo": "../img/06-flax-logo.png"
                },
                {
                    "name": "Médialab Sciences Po:",
                    "company_url": "http://medialab.sciences-po.fr/",
                    "blog_url": "https://groups.google.com/d/topic/scrapy-users/ApfTGGokSKo/discussion",
                    "logo": "../img/07-media-sciences-logo.png"
                },
                {
                    "name": "Lyst:",
                    "company_url": "http://www.lyst.com/",
                    "logo": "../img/08-lyst-logo.png"
                },
                {
                    "name": "ScraperWiki:",
                    "company_url": "https://scraperwiki.com/",
                    "blog_url": "http://blog.scraperwiki.com/2013/03/14/tools-of-the-trade/",
                    "logo": "../img/09-scraper-wiki-logo.png"
                },
                {
                    "name": "Data.Gov.Uk:",
                    "company_url": "http://www.data.gov.uk/",
                    "blog_url": "http://twitter.com/bfirsh/status/8025368963",
                    "logo": "../img/10-datagovuk-logo.png"
                },
                {
                    "name": "Oposicionesaldia:",
                    "company_url": "http://www.oposicionesaldia.com/",
                    "logo": "../img/11-oposiciones-logo.png"
                },
                {
                    "name": "Iberestudios:",
                    "company_url": "http://www.iberstudios.com/",
                    "logo": "../img/12-iberestudios-logo.png"
                },
                {
                    "name": "DayWatch:",
                    "company_url": "http://www.usedaywatch.com/",
                    "logo": "../img/13-daywatch-logo.png"
                },
                {
                    "name": "PriceWiki:",
                    "company_url": "http://www.pricewiki.com/",
                    "logo": "../img/14-pricewiki-logo.png"
                },
                {
                    "name": "Dealshelve:",
                    "company_url": "http://dealshelve.com/",
                    "logo": "../img/15-dealshelve-logo.png"
                },
                {
                    "name": "CareerBuilder:",
                    "company_url": "http://www.careerbuilder.com/",
                    "logo": "../img/16-careerbuilder-logo.png"
                },
                {
                    "name": "GrabLab:",
                    "company_url": "http://grablab.org/",
                    "logo": "../img/17-grablab-logo.png"
                },
                {
                    "name": "SimpleSpot:",
                    "company_url": "http://www.simplespot.it/",
                    "logo": "../img/18-simplespot-logo.png"
                },
                {
                    "name": "Monetate:",
                    "company_url": "http://www.monetate.com/",
                    "logo": "../img/19-monetate-logo.png"
                },
                {
                    "name": "ClanSlots:",
                    "company_url": "http://www.clanslots.com/",
                    "logo": "../img/20-clanslots-logo.png"
                },
                {
                    "name": "Alışveriş Robotu:",
                    "company_url": "http://www.alisverisrobotu.com/",
                    "logo": "../img/21-alisveris-logo.png"
                },
                {
                    "name": "Tuvalabs:",
                    "company_url": "http://www.tuvalabs.com/",
                    "logo": "../img/22-tuvalabs-logo.png"
                },
                {
                    "name": "Alistek:",
                    "company_url": "http://www.alistek.com/",
                    "logo": "../img/23-alistek-logo.png"
                },
                {
                    "name": "Zhitongba:",
                    "company_url": "http://www.zhitongba.com/",
                    "logo": "../img/24-Zhitongba-logo.png"
                },
                {
                    "name": "Offertazo:",
                    "company_url": "http://www.offertazo.com/",
                    "logo": "../img/25-offertazo-logo.png"
                },
                {
                    "name": "Lionseek:",
                    "company_url": "http://www.lionseek.com/",
                    "logo": "../img/26-lionseek-logo.png"
                },
                {
                    "name": "Stilivo:",
                    "company_url": "http://www.stilivo.com/",
                    "logo": "../img/27-stilivo-logo.png"
                },
                {
                    "name": "Mapado:",
                    "company_url": "http://www.mapado.com/",
                    "logo": "../img/28-mapado-logo.png"
                },
                {
                    "name": "Oony:",
                    "company_url": "http://oony.com/",
                    "logo": "../img/29-oony-logo.png"
                },
                {
                    "name": "Woppu:",
                    "company_url": "http://woppu.my/",
                    "logo": "../img/30-woppu-logo.png"
                },
                {
                    "name": "Jobuzu:",
                    "company_url": "http://jobuzu.co.uk/",
                    "logo": "../img/31-jobuzu-logo.png"
                },
                {
                    "name": "Zopper:",
                    "company_url": "http://www.zopper.com/",
                    "logo": "../img/32-zopper-logo.png"
                },
                {
                    "name": "BookRadar:",
                    "company_url": "http://www.coenterprise.com/solutions/applications/bookradar",
                    "logo": "../img/33-bookradar-logo.png"
                },
                {
                    "name": "WP Rocket:",
                    "company_url": "http://wp-rocket.me/",
                    "logo": "../img/34-wprocket-logo.png"
                },
                {
                    "name": "Cavucador:",
                    "company_url": "http://www.cavucador.com.br/",
                    "logo": "../img/35-cavucador-logo.png"
                },
                {
                    "name": "Competera:",
                    "company_url": "http://competera.net/",
                    "logo": "../img/36-competera-logo.png"
                },
                {
                    "name": "Tarlabs:",
                    "company_url": "http://www.tarlabs.com/",
                    "logo": "../img/37-tarlabs-logo.png"
                },
                {
                    "name": "Jobijoba:",
                    "company_url": "http://www.jobijoba.com/",
                    "logo": "../img/38-jobijoba-logo.png"
                },
                {
                    "name": "Data Quarry:",
                    "company_url": "http://dataquarry.co.uk/",
                    "logo": "../img/39-dataquarry-logo.png"
                },
                {
                    "name": "El Útero de Marita:",
                    "company_url": "http://utero.pe/",
                    "logo": "../img/40-utero-logo.png"
                },
                {
                    "name": "Shimply:",
                    "company_url": "http://www.shimply.com/",
                    "blog_url": "https://twitter.com/rajatgarg79/status/508132805440581632",
                    "logo": "../img/41-shimply-logo.png"
                },
                {
                    "name": "Allclasses:",
                    "company_url": "https://allclasses.com/",
                    "logo": "../img/42-allclasses-logo.png"
                },
                {
                    "name": "MonkeyLearn:",
                    "company_url": "http://www.monkeylearn.com/",
                    "logo": "../img/43-monkeylearn-logo.png"
                },
                {
                    "name": "neu.land GmbH:",
                    "company_url": "http://neu.land/",
                    "logo": "../img/44-neuland-logo.png"
                },
                {
                    "name": "LavoWeb:",
                    "company_url": "http://lavoweb.net/",
                    "logo": "../img/45-lavoweb-logo.png"
                },
                {
                    "name": "SayOne:",
                    "company_url": "http://sayonetech.com/",
                    "logo": "../img/sayone-logo.png"
                }
            ]
        }
    }
